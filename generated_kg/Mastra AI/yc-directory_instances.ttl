# Execution time: 96.85 seconds
# Model used: gpt-5-mini

# Issues / Assumptions:
# - The YC dataset (src/mastra/data/2024.ts) is very large. To avoid embedding the entire file inline in this instance file, the dataset is referenced by file path and described; the ontology contains no specific property for including large JSON/array content as structured resources. If you require the literal full array in the ontology, an extension/property for large data embedding would be needed.
# - The ontology lacks explicit properties to represent input/output schemas (e.g., Zod schemas) as structured objects. I modelled them as Config individuals with configKey/configValue. A dedicated property for "input schema" / "output schema" would be more precise.
# - The ontology does not provide properties to capture runtime code behavior (e.g., execute functions, SDK calls, or logger classes). I preserved these semantics as descriptions in Config or Prompt literals. If code-level reconstruction is needed, additional properties/classes would be required.
# - The ontology does not have a direct class for "Evaluator" or "Scorer"; I represented the evaluation runner as a Tool and the scorer as a Capability with a Config capturing parameters.
# - There is no property to explicitly indicate "tool returns this resource" other than using a Task that is performedBy the Tool and producedResource linking to the output. I used that pattern to indicate tool execution outputs.

@prefix : <http://www.w3id.org/agentic-ai/onto#> .
@prefix beam: <http://w3id.org/beam/core#> .
@prefix pp: <http://purl.org/net/p-plan#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@base <http://www.w3id.org/agentic-ai/onto#> .

################################################################################
# Individuals describing the Mastra agent solution from the provided source
################################################################################

### Team / System: Mastra
:MastraSystem rdf:type :Team ;
    dct:title "Mastra system" ;
    dct:description "The Mastra system instance created in src/mastra/index.ts that composes agents and a logger." ;
    :hasAgentMember :ycDirectoryAgent ;
    :hasSystemConfig :MastraLoggerConfig .

:MastraLoggerConfig rdf:type :Config ;
    :configKey "logger.name" ;
    :configValue "Mastra" ;
    dct:description "Logger configuration created using PinoLogger in src/mastra/index.ts" ;
    rdf:type :Config .

:MastraLoggerLevelConfig rdf:type :Config ;
    :configKey "logger.level" ;
    :configValue "info" ;
    dct:description "Log level set to 'info' in Mastra logger configuration." .

################################################################################
# Language Model used by the agent
################################################################################

:anthropic_claude_3_5_sonnet_20241022 rdf:type :LanguageModel ;
    dct:title "anthropic/claude-3-5-sonnet-20241022" ;
    dct:description "Language model instance referenced by the agent via anthropic('claude-3-5-sonnet-20241022') in src/mastra/agents/index.ts" .

################################################################################
# Tools
################################################################################

:yc-directory-tool rdf:type :Tool ;
    dct:title "yc-directory" ;
    dct:description "Tool that returns the Y Combinator 2024 directory data. Created in src/mastra/tools/index.ts. Exposes an execute action that returns the dataset." ;
    :hasToolConfig :ycDirectoryTool_InputSchemaConfig , :ycDirectoryTool_OutputSchemaConfig ;
    :hasConfig :ycDirectoryTool_MetadataConfig .

:ycDirectoryTool_MetadataConfig rdf:type :Config ;
    :configKey "tool.id" ;
    :configValue "yc-directory" ;
    dct:description "Tool id used when creating the tool (createTool({ id: 'yc-directory', ... }))." .

:ycDirectoryTool_InputSchemaConfig rdf:type :Config ;
    :configKey "inputSchema" ;
    :configValue "{ }" ;
    dct:description "Input schema declared as z.object({}) in the tool: no input parameters expected." .

:ycDirectoryTool_OutputSchemaConfig rdf:type :Config ;
    :configKey "outputSchema" ;
    :configValue "Array<{ name: string, longDescription: string, tags: string, industries: string, batch: string }>" ;
    dct:description "Output schema declared as z.array(z.object({ name, longDescription, tags, industries, batch })) in the tool." .

################################################################################
# Data / Knowledge Base
################################################################################

:yc2024_data rdf:type beam:Instance , beam:Resource ;
    dct:title "YC Directory 2024 dataset" ;
    dct:description """The Y Combinator Directory data used by the yc-directory tool (set in src/mastra/data/2024.ts). This dataset is an array of company objects; each object contains name, longDescription, tags, industries, batch fields. The original array is located in the project at src/mastra/data/2024.ts and contains many company entries for F24, S24, W24 batches and others. For fidelity, the dataset reference path is preserved here rather than embedding the entire array into the ontology file. Use the referenced file to obtain the full literal data when reconstructing the system.""" ;
    dct:reference "src/mastra/data/2024.ts" .

:ycKnowledgeBase rdf:type :KnowledgeBase ;
    dct:title "YC Directory KnowledgeBase (2024)" ;
    dct:description "A knowledge base wrapper referencing the YC Directory 2024 dataset used by the agent." ;
    dct:reference "src/mastra/data/2024.ts" .

# Tool produces the data via a Task mapping
:FetchYCDataTask rdf:type :Task ;
    dct:title "Fetch YC directory data" ;
    dct:description "Task that represents the operation of the yc-directory tool's execute function returning YC data." ;
    :performedBy :yc-directory-tool ;
    :producedResource :yc2024_data .

################################################################################
# Agent
################################################################################

:ycDirectoryAgent rdf:type :LLMAgent ;
    dct:title "YC Directory Agent" ;
    dct:description "The agent instance declared as ycAgent in src/mastra/agents/index.ts. Its purpose is to answer questions about the Y Combinator 2024 directory using only the provided dataset and the yc-directory tool." ;
    :agentID "yc-directory-agent" ;
    :agentRole "YC Directory Agent" ;
    :agentPrompt :ycAgentPrompt ;
    :hasAgentConfig :ycAgentModelConfig ;
    :agentToolUsage :yc-directory-tool ;
    :useLanguageModel :anthropic_claude_3_5_sonnet_20241022 ;
    :hasKnowledge :ycKnowledgeBase ;
    :hasAgentCapability :AnswerRelevancyScorerCapability .

:ycAgentModelConfig rdf:type :Config ;
    :configKey "model.provider" ;
    :configValue "anthropic" ;
    dct:description "Indicates the agent's LLM provider/config used in the Agent constructor (anthropic('claude-3-5-sonnet-20241022'))." .

:ycAgentPrompt rdf:type :Prompt ;
    dct:title "YC Directory Agent instructions" ;
    :promptInstruction """You are a helpful assistant that answers questions about the Y Combinator directory for 2024.

Only provide information from the Y Combinator directory for 2024.
Include the batch number when referencing any companies in your response.
If you don't know the answer, say "I don't know" and don't make up an answer.
You only know information about the YC Company name, long description, tags, industries, and batch.
""" ;
    :promptContext "Used as agent-level instructions for ycDirectoryAgent (src/mastra/agents/index.ts)." .

################################################################################
# Capabilities and Evaluations (from tests)
################################################################################

:AnswerRelevancyScorerCapability rdf:type :Capability ;
    dct:title "Answer Relevancy Scorer (prebuilt)" ;
    dct:description "A scorer created by createAnswerRelevancyScorer used in tests: model 'openai/gpt-4o' with options scale:1 and uncertaintyWeight:0.3." ;
    :hasConfig :AnswerRelevancyScorer_ModelConfig , :AnswerRelevancyScorer_OptionsConfig .

:AnswerRelevancyScorer_ModelConfig rdf:type :Config ;
    :configKey "scorer.model" ;
    :configValue "openai/gpt-4o" ;
    dct:description "Model used to run the relevancy scoring in tests." .

:AnswerRelevancyScorer_OptionsConfig rdf:type :Config ;
    :configKey "scorer.options" ;
    :configValue "{ scale: 1, uncertaintyWeight: 0.3 }" ;
    dct:description "Options passed to createAnswerRelevancyScorer({ model: 'openai/gpt-4o', options: { scale: 1, uncertaintyWeight: 0.3 } }) in src/mastra/tests/index.ts." .

# Evaluation runner modeled as a Tool that runs evals
:mastra-evals-runner rdf:type :Tool ;
    dct:title "Mastra Evals Runner" ;
    dct:description "Represents the runEvals invocation in src/mastra/tests/index.ts. Executes an evaluation run on a target agent using a set of scorer capabilities and data inputs." ;
    :hasToolConfig :mastraEvals_Config .

:mastraEvals_Config rdf:type :Config ;
    :configKey "runEvals.target" ;
    :configValue "yc-directory-agent" ;
    dct:description "Indicates the target agent for the runEvals invocation (ycAgent)." .

:RunEvalsTask rdf:type :Task ;
    dct:title "Run evaluations for ycAgent" ;
    dct:description "Task representing the tests/runEvals invocation that evaluates ycAgent using the AnswerRelevancyScorer with a small input dataset." ;
    :performedBy :mastra-evals-runner ;
    :requiresResource :EvalInput_AIFrameworks_Example ;
    :producedResource :EvalResults_Relevancy ;
    :contributesToObjective :EvaluateAgentRelevancyObjective .

:EvalInput_AIFrameworks_Example rdf:type beam:Instance ;
    dct:title "Eval Input: AI Frameworks question" ;
    dct:description "Single evaluation input used in tests: { input: 'Can you tell me what recent YC companies are working on AI Frameworks?' }" ;
    dct:reference "src/mastra/tests/index.ts" .

:EvalResults_Relevancy rdf:type beam:Instance ;
    dct:title "Evaluation results (relevancy scorer)" ;
    dct:description "Results produced by the evaluation runner when scoring the agent's output for the input question using the AnswerRelevancyScorer." ;
    dct:reference "Test runEvals invocation in src/mastra/tests/index.ts" .

:EvaluateAgentRelevancyObjective rdf:type :Objective ;
    dct:title "Evaluate agent answer relevancy" ;
    dct:description "Objective representing the evaluation goal to measure the relevancy of ycAgent answers using an automatic scorer." .

################################################################################
# Tasks / Objectives describing agent behaviour
################################################################################

:AnswerYCDirectoryQuery rdf:type :Task ;
    dct:title "Answer Y Combinator directory queries" ;
    dct:description "Primary task the ycDirectoryAgent performs: accept a natural language query about the YC 2024 directory and produce an answer exclusively using the yc-directory tool's dataset. Must include batch numbers when referencing companies and must not hallucinate beyond the available fields." ;
    :performedByAgent :ycDirectoryAgent ;
    :requiresResource :yc2024_data ;
    :contributesToObjective :ProvideDirectoryAnswersObjective .

:ProvideDirectoryAnswersObjective rdf:type :Objective ;
    dct:title "Provide accurate answers from YC directory data" ;
    dct:description "Objective requiring the agent to answer questions about companies in the YC 2024 directory using only the dataset fields: name, longDescription, tags, industries, batch." .

################################################################################
# Workflow pattern (semantic description of how queries flow)
################################################################################

:YCQueryWorkflow rdf:type :WorkflowPattern ;
    dct:title "YC directory query workflow" ;
    dct:description "Semantic workflow: (1) Accept query input (natural language). (2) Agent decides to call yc-directory tool (if needed) to fetch or filter data. (3) Agent composes answer constrained to dataset fields and batch numbers only. (4) Optionally, evaluation runner can send agent responses to the relevancy scorer." ;
    :hasWorkflowStep :Step_AcceptQuery , :Step_CallTool , :Step_GenerateAnswer .

:Step_AcceptQuery rdf:type :WorkflowStep ;
    dct:title "Accept query input" ;
    :stepOrder 1 ;
    :hasAssociatedTask :RunEvalsTask .

:Step_CallTool rdf:type :WorkflowStep ;
    dct:title "Call yc-directory tool to fetch/filter data" ;
    :stepOrder 2 ;
    :hasAssociatedTask :FetchYCDataTask .

:Step_GenerateAnswer rdf:type :WorkflowStep ;
    dct:title "Generate constrained answer" ;
    :stepOrder 3 ;
    :hasAssociatedTask :AnswerYCDirectoryQuery .

################################################################################
# Relationships / metadata
################################################################################

# The yc-directory tool is associated to the dataset as its produced resource when executed
:yc-directory-tool :producedResource :yc2024_data .

# The agent is permitted to use the tool
:ycDirectoryAgent :agentToolUsage :yc-directory-tool .

# The Mastra system uses the anthropic model via the agent's config
:MastraSystem :hasAgentMember :ycDirectoryAgent .

# Link agent to the evaluation objective (agent is target of evaluation)
:ycDirectoryAgent :hasObjective :ProvideDirectoryAnswersObjective .

################################################################################
# Provenance / simple creator metadata referencing the project files
################################################################################

:SourceCode_Repo rdf:type beam:Instance ;
    dct:title "Mastra project source (subset)" ;
    dct:description "References the key source files used to construct this ontology population: src/mastra/index.ts, src/mastra/agents/index.ts, src/mastra/tools/index.ts, src/mastra/data/2024.ts, src/mastra/tests/index.ts." ;
    dct:reference "project:src/mastra (local path used in provided input)" .

# End of instance data.