# Execution time: 114.59 seconds
# Model used: gpt-5-mini

# Issues / Assumptions:
# - The runtime agent identifier strings in src/index.ts ("myAgent" and "contentCreatorAgent") do not exactly match the agent.id values in src/mastra/agents/index.ts ("my-agent" and "content-creator-agent"). Both identifiers are preserved below: the agent instances use the ids declared in the agents module (agentID literals), and the runtime identifier strings used by the client are captured as additional literals in descriptions for traceability.
# - Dynamic run-time outputs (agent responses / generated content) are produced at runtime by the language models and cannot be known statically. These are modeled as beam:Instance resources with dcterms:description literals containing placeholders (e.g., ${researchResult}, ${content}) so that reconstructing the workflow and inputs is possible. The actual textual outputs are not added because they are not present in the source code.
# - The ontology does not provide properties to capture some code-level or SDK-level constructs (e.g., MastraClient base class, A2A client objects, messageId generation strategy, or JS runtime behaviors). Such implementation-specific items are represented as Config, Prompt, Task and descriptive literals. No new classes/properties were added.
# - The "instructions" field from the Agent constructors is modeled as an agent-level Prompt (via :agentPrompt). The textual message parts sent via a2aClient.sendMessage are modeled as Task-level Prompts (via :taskPrompt). This preserves semantic intent while using existing schema terms.
# - No UI, code structure, or language-specific constructs are modeled. The ontology is populated only with semantic entities (agents, prompts, tasks, workflow, configs, models, resources) required to reconstruct the agentic solution.

@prefix : <http://www.w3id.org/agentic-ai/onto#> .
@prefix pp: <http://purl.org/net/p-plan#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix beam: <http://w3id.org/beam/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <http://www.w3id.org/agentic-ai/onto#> .

#################################################################
# System / Team
#################################################################

:MastraTeam rdf:type :Team ;
    <http://purl.org/dc/terms/title> "Mastra Example Team (A2A Example)" ;
    <http://purl.org/dc/terms/description> "A small two-agent system instantiated in the example code demonstrating agent-to-agent (A2A) communication: one agent performs research and another transforms research into content. The Mastra client baseUrl default (http://localhost:4111) is recorded in the system config." ;
    :hasAgentMember :MyAgent , :ContentCreatorAgent ;
    :hasSystemConfig :MastraSystemConfig ;
    :hasWorkflowPattern :A2AExamplePattern ;
    :hasTeamGoal :A2AGoal .

:MastraSystemConfig rdf:type :Config ;
    :configKey "baseUrl" ;
    :configValue "http://localhost:4111" ;
    <http://purl.org/dc/terms/description> "Mastra client base URL default (from code: process.env.MASTRA_BASE_URL || 'http://localhost:4111')." .

:A2AGoal rdf:type :Goal ;
    <http://purl.org/dc/terms/title> "Demonstrate A2A example and produce content" ;
    <http://purl.org/dc/terms/description> "Goal: exercise agent-to-agent communication via A2A protocol, fetch research, and create an engaging blog introduction from the research." .

#################################################################
# Language Model(s)
#################################################################

:Gpt4oModel rdf:type :LanguageModel , beam:StatisticalModel ;
    <http://purl.org/dc/terms/title> "gpt-4o" ;
    <http://purl.org/dc/terms/description> "Language model referenced in agent configurations (openai('gpt-4o') in source). The model name is preserved here as configuration metadata." .

#################################################################
# Agents (LLMAgent instances)
#################################################################

:MyAgent rdf:type :LLMAgent ;
    <http://purl.org/dc/terms/title> "My Agent" ;
    <http://purl.org/dc/terms/description> "Agent defined in src/mastra/agents/index.ts. Constructor call: new Agent({ id: 'my-agent', name: 'My Agent', instructions: 'My Agent Instructions', model: openai('gpt-4o') }). Note: some runtime code (src/index.ts) refers to an agentId string 'myAgent' when connecting; that runtime identifier string is included here for traceability." ;
    :agentID "my-agent" ;
    :agentPrompt :MyAgent_GlobalPrompt ;
    :hasAgentConfig :MyAgent_Config ;
    :useLanguageModel :Gpt4oModel ;
    :interactsWith :ContentCreatorAgent .

:MyAgent_GlobalPrompt rdf:type :Prompt ;
    <http://www.w3id.org/agentic-ai/onto#promptInstruction> "My Agent Instructions" ;
    <http://purl.org/dc/terms/description> "Global instruction string passed to agent at construction (used as persistent agent-level prompt/instruction)." .

:MyAgent_Config rdf:type :Config ;
    :configKey "model" ;
    :configValue "gpt-4o" ;
    <http://purl.org/dc/terms/description> "Agent configuration reflecting the model passed via openai('gpt-4o') in source. SDK-specific keys (e.g., API key, client references) are not modeled." .

:ContentCreatorAgent rdf:type :LLMAgent ;
    <http://purl.org/dc/terms/title> "Content Creator Agent" ;
    <http://purl.org/dc/terms/description> "Agent defined in src/mastra/agents/index.ts. Constructor call: new Agent({ id: 'content-creator-agent', name: 'Content Creator Agent', instructions: 'Create engaging content', model: openai('gpt-4o') }). The runtime client in src/index.ts connects to this agent using the runtime identifier 'contentCreatorAgent'." ;
    :agentID "content-creator-agent" ;
    :agentPrompt :ContentCreatorAgent_GlobalPrompt ;
    :hasAgentConfig :ContentCreatorAgent_Config ;
    :useLanguageModel :Gpt4oModel ;
    :interactsWith :MyAgent .

:ContentCreatorAgent_GlobalPrompt rdf:type :Prompt ;
    <http://www.w3id.org/agentic-ai/onto#promptInstruction> "Create engaging content" ;
    <http://purl.org/dc/terms/description> "Global instruction string passed to the content-creator agent at construction." .

:ContentCreatorAgent_Config rdf:type :Config ;
    :configKey "model" ;
    :configValue "gpt-4o" ;
    <http://purl.org/dc/terms/description> "Agent configuration reflecting the model parameter passed to the constructor." .

#################################################################
# Workflow Pattern and Steps
#################################################################

:A2AExamplePattern rdf:type :WorkflowPattern ;
    <http://purl.org/dc/terms/title> "A2A communication example pattern" ;
    <http://purl.org/dc/terms/description> "Two-step pattern: (1) research by a first agent; (2) transformation of research into content by a second agent. Matches the sequential steps in src/index.ts demonstrating A2A interactions." ;
    :hasWorkflowStep :A2A_Step1_Research , :A2A_Step2_ContentTransform , :A2A_Step3_End .

:A2A_Step1_Research rdf:type :StartStep ;
    <http://purl.org/dc/terms/title> "Research Step (Start)" ;
    :stepOrder 1 ;
    :hasAssociatedTask :ResearchTask ;
    :nextStep :A2A_Step2_ContentTransform .

:A2A_Step2_ContentTransform rdf:type :WorkflowStep ;
    <http://purl.org/dc/terms/title> "Content Transformation Step" ;
    :stepOrder 2 ;
    :hasAssociatedTask :ContentTask ;
    :nextStep :A2A_Step3_End .

:A2A_Step3_End rdf:type :EndStep ;
    <http://purl.org/dc/terms/title> "End Step" ;
    :stepOrder 3 ;
    <http://purl.org/dc/terms/description> "Marks the completion of the two-step A2A workflow." .

#################################################################
# Tasks, Prompts, and Resources (artifacts)
#################################################################

# 1) Initial ad-hoc user query sent to the agent (top-level example in main)
:InitialQueryPrompt rdf:type :Prompt ;
    <http://www.w3id.org/agentic-ai/onto#promptInstruction> "What are the latest developments in AI agent networks?" ;
    <http://purl.org/dc/terms/description> "User message text shown in src/index.ts (const query). Modeled as a task-level prompt (taskPrompt) for an ad-hoc message to MyAgent." .

:InitialQueryTask rdf:type :Task ;
    <http://purl.org/dc/terms/title> "Initial user query task (A2A demo start)" ;
    <http://purl.org/dc/terms/description> "Task created by sending a message via the A2A client in src/index.ts. The code generates a messageId (message-${Date.now}) and sends the 'query' prompt to the agent. Mastra's A2A implementation may return a Task object rather than a direct message; this behavior is noted but runtime details are not modeled beyond task semantics." ;
    :taskPrompt :InitialQueryPrompt ;
    :performedByAgent :MyAgent ;
    :producedResource :InitialQueryResponseResource .

:InitialQueryResponseResource rdf:type beam:Instance ;
    <http://purl.org/dc/terms/title> "Initial query response (dynamic)" ;
    <http://purl.org/dc/terms/description> "Dynamic response from MyAgent to the initial query. Captured at runtime by the example. Placeholder: ${initialQueryResponse}. The exact content is produced by the connected language model and is not present in the static source." .

# 2) Research task: first agent gathers information
:ResearchPrompt rdf:type :Prompt ;
    <http://www.w3id.org/agentic-ai/onto#promptInstruction> "Provide a brief summary of agent networks in AI" ;
    <http://purl.org/dc/terms/description> "Prompt used in the example as part of the multi-step A2A flow to gather background research." .

:ResearchTask rdf:type :Task ;
    <http://purl.org/dc/terms/title> "Research task (first agent)" ;
    <http://purl.org/dc/terms/description> "Task where the first agent gathers information. In code: researchTaskId = `research-${Date.now()}` and a message with the researchQuery is sent via a2aClient.sendMessage. The task returns a message/status object and the resulting textual research output is stored in the ResearchResult resource." ;
    :taskPrompt :ResearchPrompt ;
    :performedByAgent :MyAgent ;
    :producedResource :ResearchResultResource .

:ResearchResultResource rdf:type beam:Instance ;
    <http://purl.org/dc/terms/title> "Research result (text)" ;
    <http://purl.org/dc/terms/description> "Dynamic textual research produced by MyAgent in response to the ResearchTask. At runtime the code stores the result in a variable 'researchResult' and passes it (partially printed) to the second agent. Placeholder for the actual research output: ${researchResult}." .

# 3) Content transformation task: second agent transforms the research into content
:ContentPrompt rdf:type :Prompt ;
    <http://www.w3id.org/agentic-ai/onto#promptInstruction> "Transform this research into an engaging blog post introduction:\n\n${researchResult}" ;
    <http://www.w3id.org/agentic-ai/onto#promptInputData> "${researchResult}" ;
    <http://purl.org/dc/terms/description> "Template prompt constructed in src/index.ts (contentPrompt) â€” the research result from ResearchTask is interpolated into the template before sending to the Content Creator Agent. This preserves the transformation instruction and the linkage to the research artifact." .

:ContentTask rdf:type :Task ;
    <http://purl.org/dc/terms/title> "Content transformation task (second agent)" ;
    <http://purl.org/dc/terms/description> "Task where the content-creator agent receives research output and transforms it into an engaging blog post introduction. In the code the prompt is constructed by embedding researchResult into a template and sending via secondA2aClient.sendMessage." ;
    :taskPrompt :ContentPrompt ;
    :performedByAgent :ContentCreatorAgent ;
    :requiresResource :ResearchResultResource ;
    :producedResource :ContentOutputResource ;
    :contributesToObjective :ProduceContentObjective .

:ContentOutputResource rdf:type beam:Instance ;
    <http://purl.org/dc/terms/title> "Generated blog post introduction (dynamic)" ;
    <http://purl.org/dc/terms/description> "Dynamic textual content generated by the Content Creator Agent from the ResearchResult input. Placeholder: ${contentResult}. Actual generated content appears at runtime." .

#################################################################
# Objective(s)
#################################################################

:ProduceContentObjective rdf:type :Objective ;
    <http://purl.org/dc/terms/title> "Produce an engaging blog post introduction from research" ;
    <http://purl.org/dc/terms/description> "Objective assigned to the team: gather research on agent networks and produce engaging content. Tasks ResearchTask and ContentTask contribute to this objective." ;
    :contributesToGoal :A2AGoal .

#################################################################
# Additional runtime metadata and traceability
#################################################################

:Runtime_MessageId_Generator rdf:type :Config ;
    <http://purl.org/dc/terms/title> "Message ID generation (runtime practice)" ;
    <http://purl.org/dc/terms/description> "The code constructs message IDs using template strings like `message-${Date.now()}` and `research-${Date.now()}` / `content-${Date.now()}` prior to sending; this behavior is preserved here as descriptive metadata (not executable)." ;
    :configKey "messageIdPattern" ;
    :configValue "template: `${label}-${Date.now()}`" .

:MastraA2ABehavior rdf:type :Config ;
    <http://purl.org/dc/terms/title> "Mastra A2A task-return behavior" ;
    <http://purl.org/dc/terms/description> "The example code notes that Mastra's current A2A implementation often returns a Task object rather than a Message object (observed in the example). This is recorded to explain why the code treats responses as tasks." ;
    :configKey "a2aReturnsTask" ;
    :configValue "true" .

#################################################################
# Link agents to higher-level context for clarity
#################################################################

:MyAgent :hasGoal :A2AGoal .
:ContentCreatorAgent :hasGoal :A2AGoal .

#################################################################
# End of instance data
#################################################################