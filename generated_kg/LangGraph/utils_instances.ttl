# Execution time: 68.54 seconds
# Model used: gpt-5-mini

# Issues / Assumptions:
# - The ontology does not include a dedicated "Function" or "Procedure" class; functions/utility code in the source are modeled as Tools and Tasks (Tools represent the implementation, Tasks represent the conceptual operations).
# - There is no property to attach a Prompt directly to a Tool; prompts are attached to Tasks using taskPrompt (per ontology). Therefore, implementation-level details that look like "function signature" are stored in Tool descriptions and in Task/Prompt literals rather than as structured function metadata.
# - The ontology lacks explicit typed parameter or return-value properties (e.g., parameter name/type). I represent inputs/outputs as beam:Instance resources with descriptive literals. Precise typing (e.g., string vs array) is stored in resource descriptions.
# - The ontology cannot represent language-specific code structures or the code itself (per instructions). Implementation logic is preserved as textual descriptions in dcterms:description and Prompt properties, but not as source code.
# - The ontology cannot represent arrays/complex structured values beyond beam:Resource and literals; message-array semantics are captured in resource descriptions.
# - No LLMAgents were present in the code; therefore no agent individuals are created. If agents are required later, they can be linked to these tasks/tools via performedByAgent, hasAgentCapability, etc.

@prefix : <http://www.w3id.org/agentic-ai/onto#> .
@prefix pp: <http://purl.org/net/p-plan#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix beam: <http://w3id.org/beam/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <http://www.w3id.org/agentic-ai/onto#> .

#################################################################
# Instances for the "text utilities" solution (capitalize + message formatting)
#################################################################

:TextUtilitiesTeam rdf:type :Team ;
    <http://purl.org/dc/terms/title> "Text Utilities Team" ;
    <http://purl.org/dc/terms/description> "A small collection of text-processing utilities used within an agent-based solution. Contains implementations for capitalizing text and formatting message arrays into a serialized string." ;
    :hasWorkflowPattern :TextUtilitiesWorkflowPattern .

:TextUtilitiesWorkflowPattern rdf:type :WorkflowPattern ;
    <http://purl.org/dc/terms/title> "Text Utilities Workflow" ;
    <http://purl.org/dc/terms/description> "Workflow that defines the sequence of tasks for text capitalization and message formatting." ;
    :hasWorkflowStep :CapitalizeSentenceStep , :CapitalizeStep , :FormatMessagesStep .

### Workflow steps (ordered)
:CapitalizeSentenceStep rdf:type :StartStep ;
    <http://www.w3.org/2000/01/rdf-schema#label> "Capitalize Sentence Step" ;
    :stepOrder 1 ;
    :hasAssociatedTask :CapitalizeSentenceTask ;
    :nextStep :CapitalizeStep .

:CapitalizeStep rdf:type :WorkflowStep ;
    <http://www.w3.org/2000/01/rdf-schema#label> "Capitalize First Letter Step" ;
    :stepOrder 2 ;
    :hasAssociatedTask :CapitalizeTask ;
    :nextStep :FormatMessagesStep .

:FormatMessagesStep rdf:type :EndStep ;
    <http://www.w3.org/2000/01/rdf-schema#label> "Format Messages Step" ;
    :stepOrder 3 ;
    :hasAssociatedTask :FormatMessagesTask .

#################################################################
# Tasks (conceptual operations performed in the workflow)
#################################################################

:CapitalizeSentenceTask rdf:type :Task ;
    <http://purl.org/dc/terms/title> "Capitalize Sentence Task" ;
    <http://purl.org/dc/terms/description> "Task: Capitalize the first letter of each word in a provided sentence-like string. Conceptual behavior: split input string on space characters, for each token convert the first character to uppercase and append the rest of the token unchanged, then join tokens using a single space to produce the output string." ;
    :taskPrompt :CapitalizeSentencePrompt ;
    :requiresResource :StringInputResource ;
    :producedResource :StringOutputResource ;
    :performedBy :CapitalizeTool .

:CapitalizeTask rdf:type :Task ;
    <http://purl.org/dc/terms/title> "Capitalize First Letter Task" ;
    <http://purl.org/dc/terms/description> "Task: Capitalize the first letter of a string (typically a single word). Conceptual behavior: take the string, replace its first character with its uppercase equivalent, and append the remaining substring unchanged." ;
    :taskPrompt :CapitalizePrompt ;
    :requiresResource :StringInputResource ;
    :producedResource :StringOutputResource ;
    :performedBy :CapitalizeTool .

:FormatMessagesTask rdf:type :Task ;
    <http://purl.org/dc/terms/title> "Format Messages Task" ;
    <http://purl.org/dc/terms/description> "Task: Serialize an array of BaseMessage objects into a single formatted string. Behavior summary: for each message in the array, determine its role by calling the message's getType() operation, obtain the message content; if content is a string, use it directly, otherwise serialize the content with JSON.stringify; then wrap the content in an XML-like tag using the role as the tag name and an index attribute, concatenating all formatted message blocks separated by newlines." ;
    :taskPrompt :FormatMessagesPrompt ;
    :requiresResource :MessageArrayResource ;
    :producedResource :FormattedMessagesResource ;
    :performedBy :FormatMessagesTool .

#################################################################
# Prompts (used to document the expected input/processing/output for tasks)
#################################################################

:CapitalizeSentencePrompt rdf:type :Prompt ;
    :promptInstruction "Instruction: Capitalize the first letter of each word in the input string. Implementation details: split the input on space characters; for each word, transform the first character to uppercase and keep the remaining characters unchanged; rejoin with single spaces. Input: a string representing a sentence. Output: a string where each word's first character is uppercase. Example: 'hello world' -> 'Hello World'." ;
    :promptInputData "string input (sentence-like)" ;
    :promptOutputIndicator "string output (sentence with each word capitalized)" ;
    :promptContext "Utility for normalizing presentation of multi-word strings."

:CapitalizePrompt rdf:type :Prompt ;
    :promptInstruction "Instruction: Capitalize the first character of the input string. Implementation details: if the string is non-empty, return Uppercase(firstChar) + remainder of string. Input: a string (often a single word). Output: the string with its first letter capitalized. Example: 'apple' -> 'Apple'." ;
    :promptInputData "string input (single token or general string)" ;
    :promptOutputIndicator "string output (first letter capitalized)" ;
    :promptContext "Utility to ensure first-character capitalization."

:FormatMessagesPrompt rdf:type :Prompt ;
    :promptInstruction "Instruction: Given an ordered array of messages (BaseMessage[]), produce a single serialized string. For each message at index i: - obtain role via message.getType(); - obtain content: if content is a string, use it; otherwise convert content to a JSON string representation; - emit a block: '<{role} index=\"{i}\'>\\n{contentString}\\n</{role}>' ; concatenate blocks with newlines between them. Input: an array of BaseMessage-like objects. Output: a single formatted string used for logging, transmission, or downstream processing." ;
    :promptInputData "BaseMessage[] (each element exposes getType() and a content field which may be string or serializable object)" ;
    :promptOutputIndicator "string (XML-like wrapped message blocks)" ;
    :promptContext "Serializer for message arrays to text representation; preserves role and index."

#################################################################
# Tools (implementations; described but not including source code)
#################################################################

:CapitalizeTool rdf:type :Tool ;
    <http://purl.org/dc/terms/title> "Capitalize Utilities (capitalizeSentence, capitalize)" ;
    <http://purl.org/dc/terms/description> "Tool grouping for two capitalization utilities. Implements two conceptual capabilities: (1) capitalizeSentence: capitalizes the first letter of each word in a sentence by splitting on spaces and transforming tokens; (2) capitalize: capitalizes the first letter of a string. Implementation notes: these utilities treat the delimiter as a space character; they operate on Unicode strings in a straightforward per-character manner. They are pure string-processing utilities with no external dependencies in their conceptual model." ;
    :hasCapability :CapitalizeSentenceCapability , :CapitalizeCapability ;
    :hasToolConfig :CapitalizeToolConfig .

:FormatMessagesTool rdf:type :Tool ;
    <http://purl.org/dc/terms/title> "Format Messages Utility (formatMessages)" ;
    <http://purl.org/dc/terms/description> "Tool that serializes an ordered collection of messages into a formatted string. Conceptual behavior: iterates over messages, determines role via message.getType(), stringifies content if not a string (conceptually using JSON serialization), wraps content in role-based tags with index attribute, and concatenates the blocks with newlines. This tool expects each message to expose a 'getType' semantics and a content payload that is either string or serializable." ;
    :hasCapability :FormatMessagesCapability ;
    :hasToolConfig :FormatMessagesToolConfig .

#################################################################
# Capabilities
#################################################################

:CapitalizeSentenceCapability rdf:type :Capability ;
    <http://purl.org/dc/terms/title> "Capitalize each word" ;
    <http://purl.org/dc/terms/description> "Capability to capitalize the first letter of each word in a sentence-like string." .

:CapitalizeCapability rdf:type :Capability ;
    <http://purl.org/dc/terms/title> "Capitalize first letter" ;
    <http://purl.org/dc/terms/description> "Capability to capitalize the first character of a string." .

:FormatMessagesCapability rdf:type :Capability ;
    <http://purl.org/dc/terms/title> "Format array of messages to string" ;
    <http://purl.org/dc/terms/description> "Capability to serialize an array of message objects into a single formatted string preserving role and index, and stringifying non-string content with JSON semantics." .

#################################################################
# Tool configurations
#################################################################

:CapitalizeToolConfig rdf:type :Config ;
    :configKey "delimiter" ;
    :configValue " " ;
    <http://purl.org/dc/terms/description> "Configuration indicating the token delimiter used by the sentence-capitalization utility. Default behavior: split on a single space character." .

:FormatMessagesToolConfig rdf:type :Config ;
    :configKey "nonStringContentSerialization" ;
    :configValue "JSON.stringify" ;
    <http://purl.org/dc/terms/description> "Configuration describing the approach used when message.content is not a string. The conceptual treatment is to serialize such content to JSON-like string representation before embedding in the formatted output." .

#################################################################
# Resources (inputs/outputs)
#################################################################

:StringInputResource rdf:type beam:Instance ;
    <http://purl.org/dc/terms/title> "String Input" ;
    <http://purl.org/dc/terms/description> "A plain string provided as input to capitalization tasks. Examples: 'hello world', 'apple'." .

:StringOutputResource rdf:type beam:Instance ;
    <http://purl.org/dc/terms/title> "String Output" ;
    <http://purl.org/dc/terms/description> "Resulting string from capitalization tasks. Example outputs: 'Hello World', 'Apple'." .

:MessageArrayResource rdf:type beam:Instance ;
    <http://purl.org/dc/terms/title> "Message Array Resource" ;
    <http://purl.org/dc/terms/description> "An ordered collection of message-like objects (BaseMessage[]). Each element is expected to expose a getType() result describing its role (e.g., 'user', 'assistant') and a content field which may be a string or a serializable object." .

:FormattedMessagesResource rdf:type beam:Instance ;
    <http://purl.org/dc/terms/title> "Formatted Messages String" ;
    <http://purl.org/dc/terms/description> "A single string produced by serializing a MessageArrayResource per the FormatMessagesTask. Example structure (conceptual): '<user index=\"0'>\\nHello\\n</user>\\n<assistant index=\"1\">\\n{\"reply\":\"ok\"}\\n</assistant>'." .

#################################################################
# Connections and provenance hints
#################################################################

# Tools -> their conceptual capabilities and configs are already linked above.
# Tasks -> performedBy link shows which Tool implements each Task (performedBy domain Task range Tool).
# Workflow steps -> associated tasks and nextStep link define the sequence.
# Resources -> tasks require and produce resources.

# End of instance data.